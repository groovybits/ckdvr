head	1.17;
access;
symbols;
locks
	root:1.17; strict;
comment	@# @;


1.17
date	2003.10.14.03.36.50;	author root;	state Exp;
branches;
next	1.16;

1.16
date	2003.10.14.01.41.35;	author root;	state Exp;
branches;
next	1.15;

1.15
date	2003.10.12.21.52.46;	author root;	state Exp;
branches;
next	1.14;

1.14
date	2003.10.12.10.49.35;	author root;	state Exp;
branches;
next	1.13;

1.13
date	2003.10.12.07.04.00;	author root;	state Exp;
branches;
next	1.12;

1.12
date	2003.10.12.06.24.20;	author root;	state Exp;
branches;
next	1.11;

1.11
date	2003.10.12.06.00.07;	author root;	state Exp;
branches;
next	1.10;

1.10
date	2003.10.12.02.22.51;	author root;	state Exp;
branches;
next	1.9;

1.9
date	2003.10.12.02.00.58;	author root;	state Exp;
branches;
next	1.8;

1.8
date	2003.10.06.05.19.47;	author root;	state Exp;
branches;
next	1.7;

1.7
date	2003.10.05.10.57.10;	author root;	state Exp;
branches;
next	1.6;

1.6
date	2003.10.05.09.40.46;	author root;	state Exp;
branches;
next	1.5;

1.5
date	2003.10.05.08.15.49;	author root;	state Exp;
branches;
next	1.4;

1.4
date	2003.10.05.06.51.43;	author root;	state Exp;
branches;
next	1.3;

1.3
date	2003.10.05.05.38.39;	author root;	state Exp;
branches;
next	1.2;

1.2
date	2003.09.24.07.51.20;	author root;	state Exp;
branches;
next	1.1;

1.1
date	2003.09.24.07.28.58;	author root;	state Exp;
branches;
next	;


desc
@encoder
@


1.17
log
@lsAdded ability to ad ^?d to the recording schedule
@
text
@<? include 'variables.php' ?>
<HTML>
<HEAD>
<TITLE>Record File</TITLE>
<? include 'stylesheet.php' ?>
</head>
<body>

<? include 'topbar.php' ?>
<br>

<?

if($minutes != '' && $minutes != "00:00:00") {
  list($hour, $min, $sec) = explode(":",$minutes);
  $seconds = ($hour * 3600) + ($min * 60) + $sec;
} else if($minutes == '') {
  $minutes = "00:00:00";
}

if($encstop != '') {
  passthru("$DVRCMD se $port");
  sleep(3);
}

if($title != '' && $minutes != '') {
?>
<br>
<table valign=top border=1 cellpadding=2 cellspacing=1 bgcolor=lightgrey>
<form action=encoder.php method=post>
<tr><td align=left>
<input type=hidden name=port value=<?echo $port?>>
<input type=hidden name=myport value=<?echo $port?>>
<input type=hidden name=encstop value=stop>
<input type=submit value=Stop name=submit>
</form>
&nbsp;<a href=/>Main</a> &nbsp; 
&nbsp;<a href=/encoder.php>Encoder</a> &nbsp;
</td></tr>
<tr><td align=left bgcolor=navy>
<?
  echo "&nbsp;<font color=white><strong>";
  echo "$port Recording [$title] for $seconds Seconds...\n"; 
  echo "</strong></font>&nbsp;";
?>
</td></tr>
<tr><td align=center bgcolor=white>
<PRE><? passthru("$DVRCMD e $seconds $port $title & ");?></PRE>
</td></tr>
</table>
<br>
<?
  //exit(0);
}

$minutes = "00:00:00";
?>

<?$orig_port = $port?>
<? for($i=0;$i <= $PORTS;$i++) { 
     $port = $i;
?>
<table border=1 cellpadding=2 cellspacing=1 bgcolor=lightgrey>
<tr><th align=left bgcolor=navy>
<font color=white>DVR Recorder <?echo $port?></font>
</th></tr>
<tr><td align=left valign=top colspan=3>
<form action=encoder.php method=post name=encoder>
<input type=hidden name=port value=<?echo $port?>>
<input type=hidden name=myport value=<?echo $port?>>
<strong>Time: </strong>
<input type=text name="minutes" size=8 maxlength=8  value=<?echo $minutes?>>
<strong>Title: </strong>
<input type=text name="title" size=50 maxlength=50 value="">
<input type=submit value=Start name=submit>
</form>
</td></tr>
<tr><td align=left>

<table border=0 cellpadding=2 cellspacing=1 width=%100>
<td align=left bgcolor=#EEEE99>
<?passthru("$DVRCMD sse $port");?>
</td><td bgcolor=lightgrey align=right>
<form action=encoder.php method=post>
<input type=hidden name=port value=<?echo $port?>>
<input type=hidden name=myport value=<?echo $port?>>
<input type=hidden name=encstop value=stop>
<input type=submit value=Stop name=submit>
</form>
</td></table>

</td></tr>

</table>
<br>
<? } ?>

<?$port = $orig_port?>
<? include 'footer.php' ?>
</body>
</html>
@


1.16
log
@imtime format now uses 00:00:00
@
text
@d29 1
a29 1
<table align=left valign=top border=1 cellpadding=2 cellspacing=1 bgcolor=lightgrey>
d43 1
a43 1
  echo "$port Recording [$title] for $seconds Seconds; Please Wait...\n"; 
d48 1
a48 1
<PRE><? passthru("$DVRCMD e $seconds $port $title & 1>/dev/null");?></PRE>
d51 1
d53 1
a53 1
  exit(0);
d56 1
d74 1
a74 1
<input type=text name="title" size=50 maxlength=50 value=<?echo $title?>>
@


1.15
log
@added new topbar for easy navigation
@
text
@d14 7
d43 1
a43 1
  echo "$port Recording [$title] for $minutes Minutes; Please Wait...\n"; 
d48 1
a48 1
<PRE><? passthru("$DVRCMD e $minutes $port $title & 1>/dev/null");?></PRE>
d69 2
a70 2
<strong>Minutes: </strong>
<input type=text name="minutes" size=4 value=<?echo $minutes?>>
d72 1
a72 1
<input type=text name="title" size=30 value=<?echo $title?>>
@


1.14
log
@ability to stop encoder process per port
@
text
@d9 3
@


1.13
log
@first step in making port stateful accross web interface
@
text
@d13 1
a38 1
<strong>Encoding Started</strong>
d56 1
a56 1
<form action=encoder.php method=post name=decoder>
@


1.12
log
@now work with multiple encoders/decoders, in theory.
@
text
@d47 1
d86 1
@


1.11
log
@Ability to have mulitiple ports added and made to mosltly work.
@
text
@d21 2
d57 1
d73 1
@


1.10
log
@cleanup internet expolorer interatction[1~, buiger finonets
@
text
@a9 1
$port = 0;
d30 1
a30 1
  echo "Recording [$title] for $minutes Minutes; Please Wait...\n"; 
d45 3
d50 1
a50 1
<font color=white>DVR Recorder: </font>
d54 1
d69 1
d78 2
@


1.9
log
@added support for different ports, can't cahnge yet,
took out stop functions for neow
@
text
@d36 2
a37 2
<PRE><? passthru("$DVRCMD e $minutes $port $title 1>/dev/null");?></PRE>
<strong>Finished Encoding!!!</strong>
d47 3
a49 3
<tr><td align=left bgcolor=navy>
<font color=white size=1>DVR Recorder: </font>
</td></tr>
@


1.8
log
@Added stylesheet, major rework of all pages look.
@
text
@d10 1
d13 1
a13 1
  passthru("$DVRCMD se");
d36 1
a36 1
<PRE><? passthru("$DVRCMD e $minutes $title 1>/dev/null");?></PRE>
d63 1
a63 1
<?passthru("$DVRCMD sse");?>
@


1.7
log
@rework of whole look to be uniform
@
text
@d5 1
d24 2
a25 2
<a href=/>Main</a>
 &nbsp; <a href=/encoder.php>Encoder</a>
d29 1
a29 1
  echo "<font color=white><strong>";
d31 1
a31 1
  echo "</strong></font>";
d47 1
a47 1
<PRE><font color=white size=1>DVR Recorder: <?passthru("$DVRCMD sse");?></font></PRE>
d55 1
a55 1
<input type=submit value=Record name=submit>
a56 1
<form action=encoder.php method=post>
d59 6
d68 2
@


1.6
log
@interface given a better consistent look
@
text
@d16 2
a17 1
<table align=left valign=top border=1 cellpadding=1 cellspacing=1>
d23 2
a24 2
<a href=/>Back to Index</a>
 | <a href=/encoder.php>Back to Encoder</a>
d26 1
a26 1
<tr><td align=left>
d28 1
d30 1
d33 3
a35 6
<tr><td align=center>
<PRE>
<?
  passthru("$DVRCMD e $minutes $title 1>/dev/null");
?>
<strong>Finished Encoding!!!</strong></PRE>
a42 1
<a href=/>Back to Index</a><br>
d44 1
a44 1
<table align=left valign=top border=1 cellpadding=1 cellspacing=1 bgcolor=lightgrey>
d46 1
a46 1
<PRE><font color=white size=1><?passthru("$DVRCMD sse");?></font></PRE>
a54 3

</td></tr>

d57 1
d66 1
@


1.5
log
@control of encoding now
@
text
@d45 4
a48 4
<table align=left valign=top border=1 cellpadding=1 cellspacing=1>
<tr><th nowrap colspan=3 align=left bgcolor=lightgrey>
</th></tr>

a57 3
<tr><td align=left bgcolor=black>
<PRE><font color=white size=1><?passthru("$DVRCMD sse");?></font></PRE>
</td></tr>
@


1.4
log
@added ability to stop playback, show status of dvr too
@
text
@d10 4
d15 12
d28 5
a32 1
  echo "<PRE>";
d34 6
a39 1
  echo "</PRE>\n";
d62 8
a70 1
</form>
@


1.3
log
@Better formatting
@
text
@d33 4
@


1.2
log
@added index link and ability to record through the web
@
text
@d2 6
d11 4
a14 1
  passthru("$DVRCMD e $minutes $title");
a17 6
<HTML>
<HEAD>
<TITLE>Record File</TITLE>
</head>
<body>

d20 2
a21 3
<table align=left valign=top width=80% cellpadding=0 cellspacing=0>
<tr><th bgcolor=grey nowrap colspan=3 align=left>
Record File
d26 2
d29 1
a29 3
<input type=text name="title" value=<?echo $title?>>
<strong>Minutes: </strong>
<input type=text name="minutes" maxsize=3 value=<?echo $minutes?>>
@


1.1
log
@Initial revision
@
text
@d4 2
a5 4
if($cliptake != '') {
  list ($name, $length, $title) = explode(":", $cliptake);
  print "Playing: $name $length min $title\n";
  passthru("$DVRCMD pf $name");
d7 1
d11 1
a11 1
<TITLE>Play File</TITLE>
d15 2
d19 1
a19 1
Preload File
d23 6
a28 18
<form action=decoder.php method=post name=decoder>
<strong>File: </strong>
<select name="clips" ONCHANGE=javascript:document.decoder.submit()>
<option><?echo $clips?>
  <?
    // list out Media Library
    $lines = file ("$LIBRARY");
    while (list ($line_num, $line) = each ($lines)) {
      list ($name, $length, $title)= explode (":", $line);
      echo "<option>$name:$length:$title\n";
    }
  ?>
</select>
<input type=submit value=Preload name=submit>

</td></tr>
</table>
</form>
a29 11
<form action=decoder.php>
<table align=left valign=top width=80% cellpadding=0 cellspacing=0>
<tr><th bgcolor=grey nowrap colspan=3 align=left>
Play File
</th></tr>
<tr><td align=left>
<?echo $clips?>
<input type=hidden name=cliptake value=<?echo $clips?>>
</td></tr>
<tr><td align=left>
<input type=submit value=Take name=submit>
a33 17
<form action=decoder.php>
<table align=left valign=top width=80% cellpadding=0 cellspacing=0>
<tr><th bgcolor=grey nowrap colspan=3 align=left>
Now Playing
</th></tr>
<tr><td align=left>
<?echo $cliptake?>
<input type=hidden name=clipstop value=<?echo $clips?>>
</td></tr>
<tr><td align=left>
<input type=submit value=Stop name=submit>
</td></tr>
</table>
</form>

<a href=/>Back to Home</a><br>

@
